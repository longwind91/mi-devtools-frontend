{"version":3,"file":"IssueView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/issues/IssueView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as IssueCounter from '../../ui/components/issue_counter/issue_counter.js';\nimport * as MarkdownView from '../../ui/components/markdown_view/markdown_view.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Adorners from '../../ui/components/adorners/adorners.js';\nimport * as NetworkForward from '../../panels/network/forward/forward.js';\n\nimport {AffectedDirectivesView} from './AffectedDirectivesView.js';\nimport {AffectedBlockedByResponseView} from './AffectedBlockedByResponseView.js';\nimport {AffectedCookiesView} from './AffectedCookiesView.js';\nimport {AffectedDocumentsInQuirksModeView} from './AffectedDocumentsInQuirksModeView.js';\nimport {AffectedElementsView} from './AffectedElementsView.js';\nimport {AffectedElementsWithLowContrastView} from './AffectedElementsWithLowContrastView.js';\nimport {AffectedHeavyAdView} from './AffectedHeavyAdView.js';\nimport {AffectedItem, AffectedResourcesView, extractShortPath} from './AffectedResourcesView.js';\nimport {AffectedSharedArrayBufferIssueDetailsView} from './AffectedSharedArrayBufferIssueDetailsView.js';\nimport {AffectedSourcesView} from './AffectedSourcesView.js';\nimport {AffectedTrustedWebActivityIssueDetailsView} from './AffectedTrustedWebActivityIssueDetailsView.js';\nimport {CorsIssueDetailsView} from './CorsIssueDetailsView.js';\nimport {WasmCrossOriginModuleSharingAffectedResourcesView} from './WasmCrossOriginModuleSharingAffectedResourcesView.js';\nimport {AttributionReportingIssueDetailsView} from './AttributionReportingIssueDetailsView.js';\n\nimport type {AggregatedIssue} from './IssueAggregator.js';\n\nconst UIStrings = {\n  /**\n  *@description Noun, singular. Label for a column or field containing the name of an entity.\n  */\n  name: 'Name',\n  /**\n  *@description The kind of resolution for a mixed content issue\n  */\n  blocked: 'blocked',\n  /**\n  *@description Label for a type of issue that can appear in the Issues view. Noun for singular or plural number of network requests.\n  */\n  nRequests: '{n, plural, =1 {# request} other {# requests}}',\n  /**\n  *@description Label for singular or plural number of affected resources in issue view\n  */\n  nResources: '{n, plural, =1 {# resource} other {# resources}}',\n  /**\n  *@description Label for mixed content issue's restriction status\n  */\n  restrictionStatus: 'Restriction Status',\n  /**\n  * @description When there is a Heavy Ad, the browser can choose to deal with it in different ways.\n  * This string indicates that the ad was only warned, and not removed.\n  */\n  warned: 'Warned',\n  /**\n  *@description Header for the section listing affected resources\n  */\n  affectedResources: 'Affected Resources',\n  /**\n  *@description Title for a link to further information in issue view\n  *@example {SameSite Cookies Explained} PH1\n  */\n  learnMoreS: 'Learn more: {PH1}',\n  /**\n *@description The kind of resolution for a mixed content issue\n */\n  automaticallyUpgraded: 'automatically upgraded',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/IssueView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nclass AffectedRequestsView extends AffectedResourcesView {\n  _issue: IssuesManager.Issue.Issue;\n  constructor(parent: IssueView, issue: IssuesManager.Issue.Issue) {\n    super(parent);\n    this._issue = issue;\n  }\n\n  _appendAffectedRequests(affectedRequests: Iterable<Protocol.Audits.AffectedRequest>): void {\n    let count = 0;\n    for (const affectedRequest of affectedRequests) {\n      const element = document.createElement('tr');\n      element.classList.add('affected-resource-request');\n      const category = this._issue.getCategory();\n      const tab = issueTypeToNetworkHeaderMap.get(category) || NetworkForward.UIRequestLocation.UIRequestTabs.Headers;\n      element.appendChild(this.createRequestCell(affectedRequest, {\n        networkTab: tab,\n        additionalOnClickAction() {\n          Host.userMetrics.issuesPanelResourceOpened(category, AffectedItem.Request);\n        },\n      }));\n      this.affectedResources.appendChild(element);\n      count++;\n    }\n    this.updateAffectedResourceCount(count);\n  }\n\n  protected getResourceNameWithCount(count: number): Platform.UIString.LocalizedString {\n    return i18nString(UIStrings.nRequests, {n: count});\n  }\n\n  update(): void {\n    this.clear();\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const unused of this._issue.getBlockedByResponseDetails()) {\n      // If the issue has blockedByResponseDetails, the corresponding AffectedBlockedByResponseView\n      // will take care of displaying the request.\n      this.updateAffectedResourceCount(0);\n      return;\n    }\n    if (this._issue.getCategory() === IssuesManager.Issue.IssueCategory.MixedContent) {\n      // The AffectedMixedContentView takes care of displaying the resources.\n      this.updateAffectedResourceCount(0);\n      return;\n    }\n    this._appendAffectedRequests(this._issue.requests());\n  }\n}\n\nconst issueTypeToNetworkHeaderMap =\n    new Map<IssuesManager.Issue.IssueCategory, NetworkForward.UIRequestLocation.UIRequestTabs>([\n      [\n        IssuesManager.Issue.IssueCategory.SameSiteCookie,\n        NetworkForward.UIRequestLocation.UIRequestTabs.Cookies,\n      ],\n      [\n        IssuesManager.Issue.IssueCategory.CrossOriginEmbedderPolicy,\n        NetworkForward.UIRequestLocation.UIRequestTabs.Headers,\n      ],\n      [\n        IssuesManager.Issue.IssueCategory.MixedContent,\n        NetworkForward.UIRequestLocation.UIRequestTabs.Headers,\n      ],\n    ]);\n\nclass AffectedMixedContentView extends AffectedResourcesView {\n  _issue: AggregatedIssue;\n  constructor(parent: IssueView, issue: AggregatedIssue) {\n    super(parent);\n    this._issue = issue;\n  }\n\n  _appendAffectedMixedContentDetails(mixedContentIssues: Iterable<IssuesManager.MixedContentIssue.MixedContentIssue>):\n      void {\n    const header = document.createElement('tr');\n    this.appendColumnTitle(header, i18nString(UIStrings.name));\n    this.appendColumnTitle(header, i18nString(UIStrings.restrictionStatus));\n\n    this.affectedResources.appendChild(header);\n\n    let count = 0;\n    for (const issue of mixedContentIssues) {\n      const details = issue.getDetails();\n      this.appendAffectedMixedContent(details);\n      count++;\n    }\n    this.updateAffectedResourceCount(count);\n  }\n\n  protected getResourceNameWithCount(count: number): Platform.UIString.LocalizedString {\n    return i18nString(UIStrings.nResources, {n: count});\n  }\n\n  appendAffectedMixedContent(mixedContent: Protocol.Audits.MixedContentIssueDetails): void {\n    const element = document.createElement('tr');\n    element.classList.add('affected-resource-mixed-content');\n\n    if (mixedContent.request) {\n      const networkTab = issueTypeToNetworkHeaderMap.get(this._issue.getCategory()) ||\n          NetworkForward.UIRequestLocation.UIRequestTabs.Headers;\n      element.appendChild(this.createRequestCell(mixedContent.request, {\n        networkTab,\n        additionalOnClickAction() {\n          Host.userMetrics.issuesPanelResourceOpened(\n              IssuesManager.Issue.IssueCategory.MixedContent, AffectedItem.Request);\n        },\n      }));\n    } else {\n      const filename = extractShortPath(mixedContent.insecureURL);\n      const cell = this.appendIssueDetailCell(element, filename, 'affected-resource-mixed-content-info');\n      UI.Tooltip.Tooltip.install(cell, mixedContent.insecureURL);\n    }\n\n    this.appendIssueDetailCell(\n        element, AffectedMixedContentView.translateStatus(mixedContent.resolutionStatus),\n        'affected-resource-mixed-content-info');\n    this.affectedResources.appendChild(element);\n  }\n\n  private static translateStatus(resolutionStatus: Protocol.Audits.MixedContentResolutionStatus):\n      Platform.UIString.LocalizedString {\n    switch (resolutionStatus) {\n      case Protocol.Audits.MixedContentResolutionStatus.MixedContentBlocked:\n        return i18nString(UIStrings.blocked);\n      case Protocol.Audits.MixedContentResolutionStatus.MixedContentAutomaticallyUpgraded:\n        return i18nString(UIStrings.automaticallyUpgraded);\n      case Protocol.Audits.MixedContentResolutionStatus.MixedContentWarning:\n        return i18nString(UIStrings.warned);\n    }\n  }\n\n  update(): void {\n    this.clear();\n    this._appendAffectedMixedContentDetails(this._issue.getMixedContentIssues());\n  }\n}\n\nexport class IssueView extends UI.TreeOutline.TreeElement {\n  _parent: UI.Widget.VBox;\n  _issue: AggregatedIssue;\n  _description: IssuesManager.MarkdownIssueDescription.IssueDescription;\n  toggleOnClick: boolean;\n  affectedResources: UI.TreeOutline.TreeElement;\n  _affectedResourceViews: AffectedResourcesView[];\n  _aggregatedIssuesCount: HTMLElement|null;\n  private issueKindIcon: IconButton.Icon.Icon|null = null;\n  _hasBeenExpandedBefore: boolean;\n  private throttle: Common.Throttler.Throttler;\n  private needsUpdateOnExpand = true;\n\n  constructor(\n      parent: UI.Widget.VBox, issue: AggregatedIssue,\n      description: IssuesManager.MarkdownIssueDescription.IssueDescription) {\n    super();\n    this._parent = parent;\n    this._issue = issue;\n    this._description = description;\n    this.throttle = new Common.Throttler.Throttler(250);\n\n    this.toggleOnClick = true;\n    this.listItemElement.classList.add('issue');\n    this.childrenListElement.classList.add('body');\n    this.childrenListElement.classList.add(IssueView.getBodyCSSClass(this._issue.getKind()));\n\n    this.affectedResources = this._createAffectedResources();\n    this._affectedResourceViews = [\n      new AffectedCookiesView(this, this._issue),\n      new AffectedElementsView(this, this._issue),\n      new AffectedRequestsView(this, this._issue),\n      new AffectedMixedContentView(this, this._issue),\n      new AffectedSourcesView(this, this._issue),\n      new AffectedHeavyAdView(this, this._issue),\n      new AffectedDirectivesView(this, this._issue),\n      new AffectedBlockedByResponseView(this, this._issue),\n      new AffectedSharedArrayBufferIssueDetailsView(this, this._issue),\n      new AffectedElementsWithLowContrastView(this, this._issue),\n      new AffectedTrustedWebActivityIssueDetailsView(this, this._issue),\n      new CorsIssueDetailsView(this, this._issue),\n      new AffectedDocumentsInQuirksModeView(this, this._issue),\n      new AttributionReportingIssueDetailsView(this, this._issue),\n      new WasmCrossOriginModuleSharingAffectedResourcesView(this, this._issue),\n    ];\n\n    this._aggregatedIssuesCount = null;\n    this._hasBeenExpandedBefore = false;\n  }\n\n  private static getBodyCSSClass(issueKind: IssuesManager.Issue.IssueKind): string {\n    switch (issueKind) {\n      case IssuesManager.Issue.IssueKind.BreakingChange:\n        return 'issue-kind-breaking-change';\n      case IssuesManager.Issue.IssueKind.PageError:\n        return 'issue-kind-page-error';\n      case IssuesManager.Issue.IssueKind.Improvement:\n        return 'issue-kind-improvement';\n    }\n  }\n\n  getIssueTitle(): string {\n    return this._description.title;\n  }\n\n  onattach(): void {\n    this._appendHeader();\n    this._createBody();\n    this.appendChild(this.affectedResources);\n    for (const view of this._affectedResourceViews) {\n      this.appendAffectedResource(view);\n      view.update();\n    }\n\n    this._createReadMoreLinks();\n    this.updateAffectedResourceVisibility();\n  }\n\n  appendAffectedResource(resource: UI.TreeOutline.TreeElement): void {\n    this.affectedResources.appendChild(resource);\n  }\n\n  _appendHeader(): void {\n    const header = document.createElement('div');\n    header.classList.add('header');\n    this.issueKindIcon = new IconButton.Icon.Icon();\n    const kind = this._issue.getKind();\n    this.issueKindIcon.data = IssueCounter.IssueCounter.getIssueKindIconData(kind);\n    this.issueKindIcon.classList.add('leading-issue-icon');\n    this._aggregatedIssuesCount = document.createElement('span');\n    const countAdorner = new Adorners.Adorner.Adorner();\n    countAdorner.data = {\n      name: 'countWrapper',\n      content: this._aggregatedIssuesCount,\n    };\n    countAdorner.classList.add('aggregated-issues-count');\n    this._aggregatedIssuesCount.textContent = `${this._issue.getAggregatedIssuesCount()}`;\n    header.appendChild(this.issueKindIcon);\n    UI.Tooltip.Tooltip.install(this.issueKindIcon, IssueCounter.IssueCounter.getIssueKindDescription(kind));\n    header.appendChild(countAdorner);\n\n    const title = document.createElement('div');\n    title.classList.add('title');\n    title.textContent = this._description.title;\n    header.appendChild(title);\n\n    this.listItemElement.appendChild(header);\n  }\n\n  onexpand(): void {\n    Host.userMetrics.issuesPanelIssueExpanded(this._issue.getCategory());\n\n    if (this.needsUpdateOnExpand) {\n      this.doUpdate();\n    }\n\n    if (!this._hasBeenExpandedBefore) {\n      this._hasBeenExpandedBefore = true;\n      for (const view of this._affectedResourceViews) {\n        view.expandIfOneResource();\n      }\n    }\n  }\n\n  private updateFromIssue(): void {\n    if (this.issueKindIcon) {\n      const kind = this._issue.getKind();\n      this.issueKindIcon.data = IssueCounter.IssueCounter.getIssueKindIconData(kind);\n    }\n    if (this._aggregatedIssuesCount) {\n      this._aggregatedIssuesCount.textContent = `${this._issue.getAggregatedIssuesCount()}`;\n    }\n  }\n\n  updateAffectedResourceVisibility(): void {\n    const noResources = this._affectedResourceViews.every(view => view.isEmpty());\n    this.affectedResources.hidden = noResources;\n  }\n\n  _createAffectedResources(): UI.TreeOutline.TreeElement {\n    const wrapper = new UI.TreeOutline.TreeElement();\n    wrapper.setCollapsible(false);\n    wrapper.setExpandable(true);\n    wrapper.expand();\n    wrapper.selectable = false;\n    wrapper.listItemElement.classList.add('affected-resources-label');\n    wrapper.listItemElement.textContent = i18nString(UIStrings.affectedResources);\n    wrapper.childrenListElement.classList.add('affected-resources');\n    return wrapper;\n  }\n\n  _createBody(): void {\n    const messageElement = new UI.TreeOutline.TreeElement();\n    messageElement.setCollapsible(false);\n    messageElement.selectable = false;\n    const markdownComponent = new MarkdownView.MarkdownView.MarkdownView();\n    markdownComponent.data = {tokens: this._description.markdown};\n    messageElement.listItemElement.appendChild(markdownComponent);\n    this.appendChild(messageElement);\n  }\n\n  _createReadMoreLinks(): void {\n    if (this._description.links.length === 0) {\n      return;\n    }\n\n    const linkWrapper = new UI.TreeOutline.TreeElement();\n    linkWrapper.setCollapsible(false);\n    linkWrapper.listItemElement.classList.add('link-wrapper');\n\n    const linkList = linkWrapper.listItemElement.createChild('ul', 'link-list');\n    for (const description of this._description.links) {\n      const link = UI.Fragment.html`<x-link class=\"link devtools-link\" tabindex=\"0\" href=${description.link}>${\n                       i18nString(UIStrings.learnMoreS, {PH1: description.linkTitle})}</x-link>` as UI.XLink.XLink;\n      const linkIcon = new IconButton.Icon.Icon();\n      linkIcon.data = {iconName: 'link_icon', color: 'var(--color-link)', width: '16px', height: '16px'};\n      linkIcon.classList.add('link-icon');\n      link.prepend(linkIcon);\n      link.addEventListener('x-link-invoke', () => {\n        Host.userMetrics.issuesPanelResourceOpened(this._issue.getCategory(), AffectedItem.LearnMore);\n      });\n\n      const linkListItem = linkList.createChild('li');\n      linkListItem.appendChild(link);\n    }\n    this.appendChild(linkWrapper);\n  }\n\n  private doUpdate(): void {\n    if (this.expanded) {\n      this._affectedResourceViews.forEach(view => view.update());\n      this.updateAffectedResourceVisibility();\n    }\n    this.needsUpdateOnExpand = !this.expanded;\n    this.updateFromIssue();\n  }\n\n  update(): void {\n    this.throttle.schedule(async () => this.doUpdate());\n  }\n\n  toggle(expand?: boolean): void {\n    if (expand || (expand === undefined && !this.expanded)) {\n      this.expand();\n    } else {\n      this.collapse();\n    }\n  }\n}\n"]}