{"version":3,"file":"ShellMain.js","sourceRoot":"","sources":["../../../../../../front_end/entrypoints/shell_app/ShellMain.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,uDAAuD;AAEvD,OAAO,KAAK,MAAM,MAAM,6BAA6B,CAAC;AACtD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,GAAG,MAAM,uBAAuB,CAAC;AAC7C,OAAO,KAAK,UAAU,MAAM,2CAA2C,CAAC;AAExE,MAAM,SAAS,GAAG;IAChB;;MAEE;IACF,IAAI,EAAE,MAAM;CACb,CAAC;AAEF,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,oCAAoC,EAAE,SAAS,CAAC,CAAC;AAC1F,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAEtE,IAAI,kBAAiC,CAAC;AAEtC,MAAM,OAAO,aAAc,SAAQ,MAAM,CAAC,aAAa,CAAC,aAAa;IACnE,MAAM,CAAC,QAAQ,CAAC,OAAiC,EAAC,QAAQ,EAAE,IAAI,EAAC;QAC/D,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,kBAAkB,IAAI,QAAQ,EAAE;YACnC,kBAAkB,GAAG,IAAI,aAAa,EAAE,CAAC;SAC1C;QAED,OAAO,kBAAkB,CAAC;IAC5B,CAAC;IAED,KAAK,CAAC,GAAG;QACP,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;QAC9E,GAAG,CAAC,WAAW,CAAC,kBAAkB,CAAC,KAAK,IAAI,EAAE;YAC5C,MAAM,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,YAAY,CAClE,MAAM,EAAE,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACpE,MAAM,CAAC,YAAY,EAAE,CAAC,8BAA8B,EAAE,CAAC;QACzD,CAAC,EAAE,UAAU,CAAC,oBAAoB,CAAC,oBAAoB,CAAC,uBAAuB,CAAC,CAAC;IACnF,CAAC;CACF;AAED,MAAM,CAAC,QAAQ,CAAC,mCAAmC,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC","sourcesContent":["// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\n\nconst UIStrings = {\n  /**\n  *@description Text that refers to the main target.\n  */\n  main: 'Main',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('entrypoints/shell_app/ShellMain.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nlet jsMainImplInstance: ShellMainImpl;\n\nexport class ShellMainImpl extends Common.ObjectWrapper.ObjectWrapper implements Common.Runnable.Runnable {\n  static instance(opts: {forceNew: boolean|null} = {forceNew: null}): ShellMainImpl {\n    const {forceNew} = opts;\n    if (!jsMainImplInstance || forceNew) {\n      jsMainImplInstance = new ShellMainImpl();\n    }\n\n    return jsMainImplInstance;\n  }\n\n  async run(): Promise<void> {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.ConnectToNodeJSDirectly);\n    SDK.Connections.initMainConnection(async () => {\n      const target = SDK.TargetManager.TargetManager.instance().createTarget(\n          'main', i18nString(UIStrings.main), SDK.Target.Type.Node, null);\n      target.runtimeAgent().invoke_runIfWaitingForDebugger();\n    }, Components.TargetDetachedDialog.TargetDetachedDialog.webSocketConnectionLost);\n  }\n}\n\nCommon.Runnable.registerEarlyInitializationRunnable(ShellMainImpl.instance);\n"]}